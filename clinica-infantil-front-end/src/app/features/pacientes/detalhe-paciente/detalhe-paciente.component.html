<div class="dashboard container my-5">
  <!-- Cabeçalho com alinhamento responsivo para o título e o botão de voltar -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Detalhes do Paciente</h2>
    <!-- Botão de voltar para telas maiores -->
    <div class="d-none d-md-block">
      @if (isAdministradorRoute) {
        <app-botao-voltar texto="Voltar para a Lista" routerLink="../"></app-botao-voltar>
      } @else {
        <app-botao-voltar texto="Voltar para a Lista" routerLink="../"></app-botao-voltar>
      }
    </div>
  </div>

  @if (isLoading) {
    <div class="alert alert-info" role="alert">Carregando detalhes do paciente...</div>
  }

  @if (error) {
    <div class="alert alert-danger" role="alert">{{ error }}</div>
  }

  @if (paciente) {
    <!-- Card com dados do paciente, usando a grade do Bootstrap para responsividade -->
    <div class="card mt-3">
      <div class="card-header bg-primary text-white">
        Dados do Paciente
      </div>
      <div class="card-body">
        <h5 class="card-title">{{ paciente.cliente.nome }}</h5>
        <div class="row">
          <!-- Coluna esquerda, ocupando 6/12 em telas médias e 12/12 em telas pequenas -->
          <div class="col-12 col-md-6">
            <p><strong>CPF:</strong> {{ paciente.cliente.cpf }}</p>
            <p><strong>RG:</strong> {{ paciente.cliente.rg || 'Não informado' }}</p>
            <p><strong>Data de Nascimento:</strong> {{ paciente.data_nascimento | date:'dd/MM/yyyy' }}</p>
            <p><strong>Idade:</strong> {{ idade || 'Calculando...' }} anos</p>
            <p><strong>Gênero:</strong> {{ paciente.cliente.genero.genero }}</p>
          </div>
          <!-- Coluna direita -->
          <div class="col-12 col-md-6">
            <p><strong>Endereço:</strong> {{ paciente.cliente.endereco }}</p>
            <p><strong>Cidade/Estado:</strong> {{ paciente.cliente.cidade.nome_cidade }} / {{ estadoSigla }}</p>
            <p><strong>Histórico Médico:</strong> {{ paciente.historico_medico }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Card com dados do responsável -->
    <div class="card mt-4">
      <div class="card-header bg-secondary text-white">
        Dados do Responsável
      </div>
      <div class="card-body">
        <div class="row">
          <!-- Coluna esquerda -->
          <div class="col-12 col-md-6">
            <p><strong>Nome:</strong> {{ nomeResponsavel }}</p>
            <p><strong>Grau de Parentesco:</strong> {{ paciente.responsavel.grau_parentesco }}</p>
          </div>
          <!-- Coluna direita -->
          <div class="col-12 col-md-6">
            <p><strong>Email:</strong> {{ paciente.responsavel.email }}</p>
            <p><strong>Telefone:</strong> {{ paciente.responsavel.telefone }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Botão de voltar visível apenas em telas pequenas -->
    <div class="d-md-none mt-4">
      @if (isAdministradorRoute) {
        <app-botao-voltar texto="Voltar para a Lista" routerLink="../"></app-botao-voltar>
      } @else {
        <app-botao-voltar texto="Voltar para a Lista" routerLink="../"></app-botao-voltar>
      }
    </div>
  }
</div>